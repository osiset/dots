#!/bin/bash

# Combine several scripts into a single easy-to-use script.
# Centered around creating/modifying the desktop theme.

# Switch desktop theme
switch() {
    ~/bin/switch-desktop-theme "$1"
}

# Creates and switches entire theme at once
create() {
    # Setup
    theme_name=$1
    file=$2

    # Ensure we have a theme name
    if [ "$theme_name" == "" ]; then
        echo ">> Error: Theme name required as first argument."
        exit 1;
    fi

    # Have PyWal make the colors
    wal -n -s -t -e -q -i "$file"

    # Convert to an Xresource theme
    ~/bin/pywal-to-xresources "$theme_name"

    # Switch
    switch "$theme_name"
}

action=$1
if [ "$action" == "create" ]; then
    # Usage: `desktop-theme create (theme_name) (file_or_url_to_image)`
    create "$2" "$3"
elif [ "$action" == "switch" ]; then
    # Usage: `desktop-theme switch`
    switch
fi
